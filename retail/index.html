<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Workshop Retail Metaverse en OCI</title>
    <meta property="og:title" content="Workshop Retail Metaverse en OCI" />
    <meta name="description" content="Workshop Retail Metaverse en OCI">
    <meta name="author" content="Santiago Botero">
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <style>
      #aframe-scene {
        display: none;
      }
      #logo-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url('assets/images/ui/loading.png');
        background-size: cover;
        background-position: center center;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 9999;
      }
        
        .loading-spinner {
          width: 100px;
          height: 100px;
          border-radius: 50%;
          border: 10px solid #555353;
          border-top-color: #f5f5f5;
          animation: spin 1s linear infinite;
        }
        
        .loading-text {
          margin-top: 20px;
          font-size: 24px;
          color: #000000;
          font-weight: bold;
        }
        
        @keyframes spin {
          to {
            transform: rotate(360deg);
          }
        }
    </style>
  </head>
  <body>
    <div id="logo-container">
      <div class="loading-spinner"></div>
    </div>
    <div id="aframe-scene">
      <a-scene>

        <!-- Store scene -->
        <a-entity
          gltf-model="store_in_the_mall.glb"
          position="0 0 0"
          scale="0.08 0.08 0.08"
          rotation="0 0 0"
        ></a-entity>
        <!-- Ambient light -->
        <!-- <a-entity light="type: ambient; intensity: 1"></a-entity> -->

        <!-- Directional light -->
        <!-- <a-entity light="type: directional; intensity: 1" position="-1 1 1"></a-entity> -->

        <!-- Camera with navigation controls -->
        <a-entity id="cameraRig"
              wasd-controls
              look-controls="pointerLockEnabled: false"
              simple-navmesh-constraint="navmesh:.navmesh;fall:0.5;height:0.8;exclude:.navmesh-hole;"
              movement-controls="speed:0.5;camera:#head;"
              position="0 0.8 19" rotation="0 0 0" >
              <a-entity id="head"
                camera="near:0.01;"
                position="0 2.65 0">
                <a-cursor id="mainCursor" 
                  position="0 0 -0.5"
                  geometry="primitive: ring; radiusInner: 0.0045; radiusOuter: 0.008"
                  material="opacity: 0.6; shader: flat" 
                  cursor="rayOrigin: fuse">
                </a-cursor>
              </a-entity>
            </a-entity>

        <!-- Obejtos --> 
        <a-asset>
          <a-gltf-model id="sofa-glft" shadow="receive:true;cast:true;" src="assets/objects/sofa.glb"  crossorigin="anonymous"></a-gltf-model>
          <a-gltf-model id="sofa2-glft" shadow="receive:true;cast:true;" src="assets/objects/sofa2.glb"  crossorigin="anonymous"></a-gltf-model>
          <a-gltf-model id="cajera-glft" shadow="receive:true;cast:true;" src="assets/objects/cajera.glb"  crossorigin="anonymous"></a-gltf-model>
          <a-gltf-model id="cashier-glft" shadow="receive:true;cast:true;" src="assets/objects/cashier.glb"  crossorigin="anonymous"></a-gltf-model>
          <a-gltf-model id="dressing-room-glft" shadow="receive:true;cast:true;" src="assets/objects/dressing-room.glb"  crossorigin="anonymous"></a-gltf-model>
          <a-gltf-model id="dress-door-glft" shadow="receive:true;cast:true;" src="assets/objects/dress-door.glb"  crossorigin="anonymous"></a-gltf-model>
          <a-gltf-model id="curtain-glft" shadow="receive:true;cast:true;" src="assets/objects/curtain.glb"  crossorigin="anonymous"></a-gltf-model>
          <a-gltf-model id="clienta1-glft" shadow="receive:true;cast:true;" src="assets/objects/clienta1.glb"  crossorigin="anonymous"></a-gltf-model>
          <a-gltf-model id="clienta2-glft" shadow="receive:true;cast:true;" src="assets/objects/clienta2.glb"  crossorigin="anonymous"></a-gltf-model>
          <a-gltf-model id="cliente-glft" shadow="receive:true;cast:true;" src="assets/objects/cliente.glb"  crossorigin="anonymous"></a-gltf-model>
          <a-gltf-model id="empleado-glft" shadow="receive:true;cast:true;" src="assets/objects/empleado.glb"  crossorigin="anonymous"></a-gltf-model>
          <a-gltf-model id="dependiente-glft" shadow="receive:true;cast:true;" src="assets/objects/dependiente.glb"  crossorigin="anonymous"></a-gltf-model>
          <a-gltf-model id="cliente2-glft" shadow="receive:true;cast:true;" src="assets/objects/cliente2.glb"  crossorigin="anonymous"></a-gltf-model>
          <a-gltf-model id="women-glft" shadow="receive:true;cast:true;" src="assets/objects/women.glb"  crossorigin="anonymous"></a-gltf-model>
          <a-gltf-model id="man-glft" shadow="receive:true;cast:true;" src="assets/objects/man.glb"  crossorigin="anonymous"></a-gltf-model>
          <a-gltf-model id="table-glft" shadow="receive:true;cast:true;" src="assets/objects/table.glb"  crossorigin="anonymous"></a-gltf-model>
        </a-asset>    

        <!-- Decoration -->
        <a-entity id="decoration-world">
          <a-entity id="living-room">
            <a-entity gltf-model="#sofa-glft"  position="5 1 10" rotation="0 -50 0" scale="1 1 1"></a-entity>
            <a-entity gltf-model="#sofa-glft"  position="5 1 20" rotation="0 110 0" scale="1 1 1"></a-entity>
            <a-entity gltf-model="#sofa2-glft"  position="9.5 0 11.5" rotation="0 -60 0" scale="0.9 0.9 0.9"></a-entity>
            <a-entity gltf-model="#sofa2-glft"  position="10.5 0 15.5" rotation="0 -120 0" scale="0.9 0.9 0.9"></a-entity>
            <a-entity gltf-model="#sofa2-glft"  position="-1.5 0 13.5" rotation="0 60 0" scale="0.9 0.9 0.9"></a-entity>
            <a-entity gltf-model="#sofa2-glft"  position="-0.5 0 17.5" rotation="0 120 0" scale="0.9 0.9 0.9"></a-entity>
            <a-entity gltf-model="#table-glft"  position="4.5 0 15.5" rotation="0 120 0" scale="2 2 2"></a-entity>
            <a-entity gltf-model="#cajera-glft"  position="19 0 23" rotation="0 -90 0" scale="2.8 2.8 2.8"></a-entity>
            <a-entity gltf-model="#cashier-glft"  position="17 2 23" rotation="0 90 0" scale="30 30 30"></a-entity>
            <a-entity gltf-model="#dressing-room-glft"  position="30 5.5 16.7" rotation="0 -90 0" scale="5 5 5"></a-entity>
            <a-entity gltf-model="#curtain-glft"  position="31 0 15.5" rotation="0 -90 0" scale="3 3 3"></a-entity>
            <a-entity gltf-model="#clienta1-glft"  position="27 0 16" rotation="0 70 0" scale="2.8 2.8 2.8"></a-entity>
            <a-entity gltf-model="#clienta2-glft"  position="15 0 23" rotation="0 90 0" scale="2.8 2.8 2.8"></a-entity>
            <a-entity gltf-model="#cliente-glft"  position="15 0 6" rotation="0 -140 0" scale="2.8 2.8 2.8"></a-entity>
            <a-entity gltf-model="#empleado-glft"  position="10 0 4" rotation="0 -250 0" scale="2.8 2.8 2.8"></a-entity>
            <a-entity gltf-model="#dependiente-glft"  position="14 0 29" rotation="0 180 0" scale="2.8 2.8 2.8"></a-entity>
            <a-entity gltf-model="#cashier-glft"  position="14 2 26.5" rotation="0 360 0" scale="30 30 30"></a-entity>
            <a-entity gltf-model="#cliente2-glft"  position="2 0 30" rotation="0 -45 0" scale="2.8 2.8 2.8"></a-entity>
            <a-entity gltf-model="#women-glft"  position="-3 0 22" rotation="0 75 0" scale="2.8 2.8 2.8"></a-entity>
            <a-entity gltf-model="#man-glft"  position="-3.5 0 23.4" rotation="0 120 0" scale="2.8 2.8 2.8"></a-entity>
          </a-entity>
        </a-entity>

        <!-- Decoration A-FRAME -->
        <a-entity id="entorno">
          <a-box id="letero-dressing-room"
          rotation="0 90 0"
          position="29 6 16.7"
          width="5"
          height="1"
          depth="0.2"
          repeat="5 5"
          color="yellow"
          ></a-box>
         </a-entity>
      
      </a-scene>




    </div>
    <script defer type="module">
      
      window.onload = function() {
        var maincursor = document.getElementById('mainCursor');
        console.log(maincursor);
        
        setTimeout(function() {
          while (!maincursor){
          setTimeout(function() {
            location.reload();
          }, 1000);
        }
        }, 3000);

        document.getElementById('aframe-scene').style.display = 'block';
        setTimeout(function() {
          var logo = document.getElementById('logo-container');
          logo.style.display = 'none';
        }, 5000);
      }
    </script>	
  </body>
</html>
